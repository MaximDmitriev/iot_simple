[{"D:\\projects\\esp32\\front\\src\\components\\navbar\\index.jsx":"1","D:\\projects\\esp32\\front\\src\\pages\\login.jsx":"2","D:\\projects\\esp32\\front\\src\\pages\\404.jsx":"3","D:\\projects\\esp32\\front\\src\\pages\\main.jsx":"4","D:\\projects\\esp32\\front\\src\\components\\navbar\\style.js":"5","D:\\projects\\esp32\\front\\src\\pages\\style\\login-style.js":"6","D:\\projects\\esp32\\front\\src\\pages\\style\\404-style.js":"7","D:\\projects\\esp32\\front\\src\\pages\\style\\main-style.js":"8","D:\\projects\\esp32\\front\\src\\components\\report-container\\index.jsx":"9","D:\\projects\\esp32\\front\\src\\components\\report-container\\style.js":"10","D:\\projects\\esp32\\front\\src\\services\\fetchData.js":"11","D:\\projects\\esp32\\front\\src\\components\\error\\style.js":"12","D:\\projects\\esp32\\front\\src\\components\\list-report\\index.jsx":"13","D:\\projects\\esp32\\front\\src\\components\\list-report\\utils.js":"14","D:\\projects\\esp32\\front\\src\\components\\list-report\\list-localization.js":"15","D:\\projects\\esp32\\front\\src\\services\\auth.js":"16","D:\\projects\\esp32\\front\\src\\components\\modal\\index.jsx":"17","D:\\projects\\esp32\\front\\src\\components\\modal\\style.js":"18","D:\\projects\\esp32\\front\\src\\components\\widgets\\index.jsx":"19","D:\\projects\\esp32\\front\\src\\components\\popup\\index.jsx":"20","D:\\projects\\esp32\\front\\src\\components\\popup\\style.js":"21","D:\\projects\\esp32\\front\\src\\components\\list-report\\style.js":"22","D:\\projects\\esp32\\front\\src\\components\\widgets\\style.js":"23","D:\\projects\\esp32\\front\\src\\App.jsx":"24","D:\\projects\\esp32\\front\\src\\components\\error\\index.jsx":"25","D:\\projects\\esp32\\front\\src\\index.js":"26","D:\\projects\\esp32\\front\\src\\pages\\index.js":"27","D:\\projects\\esp32\\front\\src\\components\\modal\\utils.js":"28"},{"size":2701,"mtime":1612560717668,"results":"29","hashOfConfig":"30"},{"size":3901,"mtime":1611952198119,"results":"31","hashOfConfig":"30"},{"size":967,"mtime":1610289067231,"results":"32","hashOfConfig":"30"},{"size":1693,"mtime":1610302671663,"results":"33","hashOfConfig":"30"},{"size":275,"mtime":1610104090316,"results":"34","hashOfConfig":"30"},{"size":594,"mtime":1610284343216,"results":"35","hashOfConfig":"30"},{"size":435,"mtime":1610104541099,"results":"36","hashOfConfig":"30"},{"size":218,"mtime":1610104650604,"results":"37","hashOfConfig":"30"},{"size":1874,"mtime":1612628927541,"results":"38","hashOfConfig":"30"},{"size":655,"mtime":1612628927586,"results":"39","hashOfConfig":"30"},{"size":1557,"mtime":1612560771923,"results":"40","hashOfConfig":"30"},{"size":172,"mtime":1610115747661,"results":"41","hashOfConfig":"30"},{"size":2230,"mtime":1612637475416,"results":"42","hashOfConfig":"30"},{"size":2621,"mtime":1612379488615,"results":"43","hashOfConfig":"30"},{"size":2494,"mtime":1610133810467,"results":"44","hashOfConfig":"30"},{"size":648,"mtime":1610301669157,"results":"45","hashOfConfig":"30"},{"size":6623,"mtime":1612629750226,"results":"46","hashOfConfig":"30"},{"size":1176,"mtime":1611940065069,"results":"47","hashOfConfig":"30"},{"size":1911,"mtime":1612556633538,"results":"48","hashOfConfig":"30"},{"size":1408,"mtime":1612037188168,"results":"49","hashOfConfig":"30"},{"size":215,"mtime":1612037194422,"results":"50","hashOfConfig":"30"},{"size":469,"mtime":1612039882813,"results":"51","hashOfConfig":"30"},{"size":785,"mtime":1612103139692,"results":"52","hashOfConfig":"30"},{"size":2260,"mtime":1612557321787,"results":"53","hashOfConfig":"30"},{"size":388,"mtime":1610115747519,"results":"54","hashOfConfig":"30"},{"size":241,"mtime":1612557585915,"results":"55","hashOfConfig":"30"},{"size":160,"mtime":1610046352222,"results":"56","hashOfConfig":"30"},{"size":870,"mtime":1612624906296,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"1x2h9kc",{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"60"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"60"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"60"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\projects\\esp32\\front\\src\\components\\navbar\\index.jsx",[],["118","119"],"D:\\projects\\esp32\\front\\src\\pages\\login.jsx",["120"],"import React, { useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Button,\r\n  FormControl,\r\n  IconButton,\r\n  InputAdornment,\r\n  Paper,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core';\r\nimport { AccountCircle, Lock, Visibility, VisibilityOff } from '@material-ui/icons';\r\nimport { Navbar } from '../components/navbar';\r\nimport { useAuth } from '../App';\r\n\r\nimport { useStyles } from './style/login-style';\r\n\r\n\r\nexport const LoginPage = () => {\r\n  const classes = useStyles();\r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const [values, setValues] = useState({\r\n    login: '',\r\n    password: '',\r\n    showPassword: false,\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    login: false,\r\n    password: false,\r\n    loginText: '',\r\n    passwordText: ''\r\n  });\r\n\r\n  const [type, setType] = useState({\r\n    newUser: false\r\n  });\r\n\r\n  const changeFormType = () => {\r\n    setType({ newUser: !type.newUser });\r\n  }\r\n\r\n  const login = () => {\r\n    const { from } = location.state || { from: { pathname: \"/report\" } };\r\n    auth.signin(() => {\r\n      history.replace(from);\r\n    });\r\n\r\n  }\r\n\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({ ...values, [prop]: event.target.value });\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <Navbar title={'Авторизация'} />\r\n      <Paper elevation={3} className={classes.paper}>\r\n        <Typography variant={'h6'} align={'center'}>\r\n          {type.newUser ? 'Регистрация нового пользователя' : 'Вход в аккаунт'}\r\n        </Typography>\r\n        <FormControl className={classes.inputWrapper}>\r\n          <TextField\r\n            id=\"login\"\r\n            label=\"Логин\"\r\n            error={errors.login}\r\n            helperText={errors.loginText}\r\n            onChange={handleChange('login')}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <AccountCircle />\r\n                </InputAdornment>\r\n              )\r\n            }}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.inputWrapper}>\r\n          <TextField\r\n            id=\"password\"\r\n            label=\"Пароль\"\r\n            type={values.showPassword ? 'text' : 'password'}\r\n            error={errors.password}\r\n            helperText={errors.passwordText}\r\n            onChange={handleChange('password')}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <Lock />\r\n                </InputAdornment>\r\n              ),\r\n              endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                >\r\n                  {values.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n              )\r\n            }}\r\n          />\r\n        </FormControl>\r\n        <Box className={classes.btnWrapper}>\r\n          <Button className={classes.button} color=\"primary\" variant=\"contained\" onClick={login}>\r\n            {type.newUser ? 'Зарегистрироваться' : 'Войти'}\r\n          </Button>\r\n          <Button className={classes.button} variant=\"contained\" onClick={changeFormType}>\r\n            {type.newUser ? 'Уже есть аккаунт' : 'Создать аккаунт'}\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </>\r\n  )\r\n}","D:\\projects\\esp32\\front\\src\\pages\\404.jsx",[],"D:\\projects\\esp32\\front\\src\\pages\\main.jsx",["121"],"import React, { useEffect, useState } from 'react';\r\nimport { Navbar } from '../components/navbar';\r\nimport { Paper, Typography } from '@material-ui/core';\r\nimport { ReportContainer } from '../components/report-container';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport { useStyles } from './style/main-style';\r\n\r\n\r\nconst reportsList = [\r\n  { url: 'users', name: 'Пользователи' },\r\n  { url: 'sensors', name: 'Датчики' },\r\n  { url: 'dashboards', name: 'Дашборды' },\r\n];\r\n\r\n\r\n\r\nexport const MainPage = () => {\r\n  const classes = useStyles();\r\n  const location = useLocation();\r\n\r\n  const [report, setReport] = useState({\r\n    type: 'start',\r\n    name: 'Основная панель'\r\n  });\r\n\r\n  const chooseReport = (item) => {\r\n    const currentReport = reportsList.find(r => r.url === item);\r\n    if (currentReport) {\r\n      setReport({ type: currentReport.url, name: currentReport.name });\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    let restUrl = location.pathname.split('/');\r\n    if (restUrl[1] === 'report' && restUrl[2]) {\r\n      chooseReport(restUrl[2]);\r\n    }\r\n  }, []);\r\n\r\n  const onSelectItem = (item) => {\r\n    chooseReport(item);\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <Navbar title={report.name} showBtn userName=\"Максим Дмитриев\" reports={reportsList} onSelectItem={(item) => onSelectItem(item)}/>\r\n      {report.type === 'start'\r\n        ? (<Paper elevation={5} className={classes.paper}>\r\n            <Typography variant={'body1'} align={'center'}>\r\n              Выберите в меню нужный отчет\r\n            </Typography>\r\n          </Paper>)\r\n        : <ReportContainer url={report.type}/>}\r\n    </>\r\n  )\r\n}","D:\\projects\\esp32\\front\\src\\components\\navbar\\style.js",[],"D:\\projects\\esp32\\front\\src\\pages\\style\\login-style.js",[],"D:\\projects\\esp32\\front\\src\\pages\\style\\404-style.js",[],"D:\\projects\\esp32\\front\\src\\pages\\style\\main-style.js",[],"D:\\projects\\esp32\\front\\src\\components\\report-container\\index.jsx",["122"],"D:\\projects\\esp32\\front\\src\\components\\report-container\\style.js",[],"D:\\projects\\esp32\\front\\src\\services\\fetchData.js",[],"D:\\projects\\esp32\\front\\src\\components\\error\\style.js",[],"D:\\projects\\esp32\\front\\src\\components\\list-report\\index.jsx",[],"D:\\projects\\esp32\\front\\src\\components\\list-report\\utils.js",["123"],"import dayjs from 'dayjs';\r\n\r\n\r\nconst ROW_HEIGHT = 85;\r\nconst NUMBER_COLUMNS = 12;\r\n\r\nfunction convertWidth(str, totalWidth) {\r\n  const index = str.indexOf('px');\r\n  return +str.substring(0, index);\r\n}\r\n\r\nexport function getColumns({ definition }) {\r\n  const columns = definition.columns\r\n    .filter(col => col.visible)\r\n    .reduce((acc, col) => {\r\n      return acc.concat([{\r\n        field: col.systemname || col.name,\r\n        headerName: col.name,\r\n        width: convertWidth(col.width),\r\n        hidden: !col.visible,\r\n        order: col.order,\r\n        style: col.style || null\r\n      }]);\r\n    }, [])\r\n    .sort((a, b) => {\r\n      if (a.order < b.order) return -1;\r\n      return 1;\r\n    });\r\n  columns[columns.length -1]['flex'] = 1;\r\n\r\n  return columns;\r\n}\r\n\r\nfunction formatCell(row, stylesMap) {\r\n  Object.keys(row).map(name => {\r\n    if (stylesMap[name]) {\r\n      if (stylesMap[name] === 'datetime') {\r\n        const val = dayjs(row[name]).format('DD/MM/YYYY HH:mm');\r\n        row[name] = val;\r\n      }\r\n    }\r\n  });\r\n\r\n  return row;\r\n}\r\n\r\nexport function formatData(data, columns) {\r\n  const stylesMap = columns.reduce((acc, col) => {\r\n    if (col.style) acc[col.field] = col.style;\r\n    return acc;\r\n  }, {});\r\n  return data.map(row => {\r\n    return formatCell(row, stylesMap);\r\n  });\r\n}\r\n\r\nexport function getFormDefinition({ definition: {columns}}) {\r\n  const rowPositions = columns.reduce((obj, widget) => {\r\n    if (!obj[widget.position[1]] || obj[widget.position[1]] < widget.size[1]) {\r\n      obj[widget.position[1]] = widget.size[1];\r\n    }\r\n    return obj;\r\n  }, {});\r\n  const maxRowNumber = Math.max(...Object.keys(rowPositions).map(k => parseInt(k)));\r\n\r\n  //общая высота сетки\r\n  const totalHeight = rowPositions[maxRowNumber] > 1\r\n    ? (maxRowNumber + rowPositions[maxRowNumber]) * ROW_HEIGHT\r\n    : (maxRowNumber + 1) * ROW_HEIGHT;\r\n\r\n  //параметры одной ячейки в процентах\r\n  const colHeight = (100 * ROW_HEIGHT)/totalHeight;\r\n  const colWidth = 100/NUMBER_COLUMNS;\r\n\r\n  const definition = columns\r\n    .filter(c => c.show_in_form)\r\n    .map(c => ({\r\n      fieldName: c.systemname,\r\n      label: c.name || c.systemname,\r\n      fieldFormat: c.style,\r\n      pattern: c.pattern || null,\r\n      readonly: c.readonly || false,\r\n      required: c.required || false,\r\n      onlyCreatedMode: c.onlyCreated || null,\r\n      width: `${colWidth * c.size[0]}%`,\r\n      height: `${colHeight * c.size[1]}%`,\r\n      top: c.position[1] * colHeight + '%',\r\n      left: c.position[0] * colWidth + '%'\r\n    }));\r\n  return {\r\n    totalHeight,\r\n    definition\r\n  }\r\n}","D:\\projects\\esp32\\front\\src\\components\\list-report\\list-localization.js",[],"D:\\projects\\esp32\\front\\src\\services\\auth.js",[],"D:\\projects\\esp32\\front\\src\\components\\modal\\index.jsx",["124","125","126","127"],"D:\\projects\\esp32\\front\\src\\components\\modal\\style.js",[],"D:\\projects\\esp32\\front\\src\\components\\widgets\\index.jsx",[],"D:\\projects\\esp32\\front\\src\\components\\popup\\index.jsx",[],"D:\\projects\\esp32\\front\\src\\components\\popup\\style.js",[],"D:\\projects\\esp32\\front\\src\\components\\list-report\\style.js",[],"D:\\projects\\esp32\\front\\src\\components\\widgets\\style.js",[],"D:\\projects\\esp32\\front\\src\\App.jsx",[],"D:\\projects\\esp32\\front\\src\\components\\error\\index.jsx",[],"D:\\projects\\esp32\\front\\src\\index.js",[],"D:\\projects\\esp32\\front\\src\\pages\\index.js",[],"D:\\projects\\esp32\\front\\src\\components\\modal\\utils.js",["128","129"],{"ruleId":"130","replacedBy":"131"},{"ruleId":"132","replacedBy":"133"},{"ruleId":"134","severity":1,"message":"135","line":32,"column":18,"nodeType":"136","messageId":"137","endLine":32,"endColumn":27},{"ruleId":"138","severity":1,"message":"139","line":38,"column":6,"nodeType":"140","endLine":38,"endColumn":8,"suggestions":"141"},{"ruleId":"138","severity":1,"message":"142","line":43,"column":5,"nodeType":"140","endLine":43,"endColumn":7,"suggestions":"143"},{"ruleId":"144","severity":1,"message":"145","line":35,"column":29,"nodeType":"146","messageId":"147","endLine":35,"endColumn":31},{"ruleId":"134","severity":1,"message":"148","line":26,"column":28,"nodeType":"136","messageId":"137","endLine":26,"endColumn":41},{"ruleId":"138","severity":1,"message":"149","line":32,"column":6,"nodeType":"140","endLine":32,"endColumn":12,"suggestions":"150"},{"ruleId":"138","severity":1,"message":"151","line":40,"column":6,"nodeType":"140","endLine":40,"endColumn":12,"suggestions":"152"},{"ruleId":"138","severity":1,"message":"153","line":61,"column":6,"nodeType":"140","endLine":61,"endColumn":10,"suggestions":"154"},{"ruleId":"155","severity":1,"message":"156","line":5,"column":5,"nodeType":"157","messageId":"158","endLine":12,"endColumn":6},{"ruleId":"155","severity":1,"message":"156","line":22,"column":5,"nodeType":"157","messageId":"158","endLine":29,"endColumn":6},"no-native-reassign",["159"],"no-negated-in-lhs",["160"],"no-unused-vars","'setErrors' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'location.pathname'. Either include it or remove the dependency array.","ArrayExpression",["161"],"React Hook useEffect has a missing dependency: 'getData'. Either include it or remove the dependency array.",["162"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'closeSnackbar' is assigned a value but never used.","React Hook useMemo has a missing dependency: 'definition'. Either include it or remove the dependency array.",["163"],"React Hook useEffect has a missing dependency: 'act'. Either include it or remove the dependency array. If 'setMode' needs the current value of 'act', you can also switch to useReducer instead of useState and read 'act' in the reducer.",["164"],"React Hook useEffect has missing dependencies: 'mode' and 'tableName'. Either include them or remove the dependency array.",["165"],"default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-global-assign","no-unsafe-negation",{"desc":"166","fix":"167"},{"desc":"168","fix":"169"},{"desc":"170","fix":"171"},{"desc":"172","fix":"173"},{"desc":"174","fix":"175"},"Update the dependencies array to be: [location.pathname]",{"range":"176","text":"177"},"Update the dependencies array to be: [getData]",{"range":"178","text":"179"},"Update the dependencies array to be: [definition, mode]",{"range":"180","text":"181"},"Update the dependencies array to be: [act, show]",{"range":"182","text":"183"},"Update the dependencies array to be: [id, mode, tableName]",{"range":"184","text":"185"},[1068,1070],"[location.pathname]",[1123,1125],"[getData]",[1299,1305],"[definition, mode]",[1422,1428],"[act, show]",[1894,1898],"[id, mode, tableName]"]